| Action                                                                                                                                                                        | Command(s)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Starter Lambda function compatible with API Gateway                                                                                                                           | `exports.handler = async (event, context, callback) => {`<br/>`âconst hasError = event['queryStringParameters']['myErrorParam'];`<br/>`âif (hasError === 'yes') {`<br/>`ââcallback(new Error('My error message'));`<br/>`    }`<br/>`âelse {`<br/>`ââconst response = {`<br/>`âââstatusCode: 200,`<br/>`âââheaders: {"Access-Control-Allow-Origin": "*"},`<br/>`âââbody: JSON.stringify({success: true}),`<br/>`âââisBase64Encoded: false`<br/>`ââ}`<br/>`ââcallback(null, response);`<br/>`}`                                                                                       |
| Batch script to update an existing Lambda function that uses a Lambda Layer. Assumes local layer name is ./helpers and layer on AWS Lambda is located at /opt/lambdas/helpers | `:: This batch file redeploys an existing lambda function`<br/>`:: Usage: deploy-existing.bat getAllProducts`<br/>`echo off`<br/>`echo WARNING: this will delete any index.js or index.zip you have in the current directory!`<br/>`pause`<br/>`set /p toDeploy=Enter lambda name (without the .js): `<br/>`powershell -Command "(gc %toDeploy%.js) -replace './helpers', '/opt/lambdas/helpers' | Out-File -encoding ASCII index.js"`<br/>`powershell "Compress-Archive index.js index.zip"`<br/>`aws lambda update-function-code --function-name %toDeploy% --zip-file fileb://index.zip`<br/>`del index.js`<br/>`del index.zip` |
